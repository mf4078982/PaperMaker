{% extends "base.html" %}
{% load static %}

{% block text %}

<div class="container my-5" style="max-width: 1000px;">

  <!-- Page Title -->
  <div class="text-center mb-5">
    <h1 class="fw-bold text-dark">Users Dashboard</h1>
    <p class="text-muted">Manage and track your users easily</p>
  </div>

  <!-- Statistics Section -->
  <div class="row g-4 mb-4 text-center">
    <div class="col-md-4">
      <div class="card shadow-sm border-0">
        <div class="card-body">
          <h6 class="text-muted">Total Users</h6>
          <p class="fs-2 fw-bold text-primary mb-0">3</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm border-0">
        <div class="card-body">
          <h6 class="text-muted">Active Users</h6>
          <p class="fs-2 fw-bold text-success mb-0">2</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm border-0">
        <div class="card-body">
          <h6 class="text-muted">Offline Users</h6>
          <p class="fs-2 fw-bold text-danger mb-0">1</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Search + Filters -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <input type="text" id="searchInput" class="form-control w-50 shadow-sm" placeholder="🔍 Search users...">
    <div>
      <button class="btn btn-outline-dark me-2 filter-btn" data-status="all">All</button>
      <button class="btn btn-outline-success me-2 filter-btn" data-status="active">Active</button>
      <button class="btn btn-outline-secondary filter-btn" data-status="offline">Offline</button>
    </div>
  </div>

  <!-- Users Table -->
  <div class="card shadow-sm border-0">
    <div class="card-header bg-dark text-white">
      <h5 class="mb-0">Users List</h5>
    </div>
    <div class="card-body p-0">
      <table class="table table-striped table-hover align-middle mb-0" id="usersTable">
        <thead class="table-dark">
          <tr>
            <th style="width: 30%;">Name</th>
            <th style="width: 40%;">Email</th>
            <th style="width: 20%;">Status</th>
          </tr>
        </thead>
        <tbody>
          <tr data-status="active">
            <td>Aqsa</td>
            <td>aqsa@gmail.com</td>
            <td><span class="badge bg-success px-3 py-2">Active</span></td>
          </tr>
          <tr data-status="offline">
            <td>Ali</td>
            <td>ali@gmail.com</td>
            <td><span class="badge bg-secondary px-3 py-2">Offline</span></td>
          </tr>
          <tr data-status="active">
            <td>Fatima</td>
            <td>fatima@gmail.com</td>
            <td><span class="badge bg-success px-3 py-2">Active</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>

<!-- JavaScript for Search & Filter -->
<script>
  const searchInput = document.getElementById("searchInput");
  const rows = document.querySelectorAll("#usersTable tbody tr");
  const filterBtns = document.querySelectorAll(".filter-btn");

  // Search functionality
  searchInput.addEventListener("keyup", function () {
    const query = this.value.toLowerCase();
    rows.forEach(row => {
      const text = row.innerText.toLowerCase();
      row.style.display = text.includes(query) ? "" : "none";
    });
  });

  // Filter functionality
  filterBtns.forEach(btn => {
    btn.addEventListener("click", () => {
      const status = btn.dataset.status;
      rows.forEach(row => {
        if (status === "all" || row.dataset.status === status) {
          row.style.display = "";
        } else {
          row.style.display = "none";
        }
      });
    });
  });
</script>

{% endblock text %}
